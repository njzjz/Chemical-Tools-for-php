{"version":3,"sources":["webpack:///./src/chem.js","webpack:///./src/components/deviation.vue?0775","webpack:///src/components/deviation.vue","webpack:///./src/components/deviation.vue?87d0","webpack:///./src/components/deviation.vue"],"names":["chemicalname","name","replace","num","scicount","value","format","require","extend","String","prototype","p","Math","floor","log","abs","LN10","n","pow","toFixed","render","_vm","this","_h","$createElement","_c","_self","attrs","$t","model","callback","$$v","input","expression","on","$event","calculateDeviation","_v","_s","staticClass","domProps","output","directives","rawName","results","scopedSlots","_u","key","fn","result","item","staticRenderFns","data","methods","x","split","numnum","Infinity","pointnum","length","forEach","xi","len","pointlen","substr","indexOf","parseFloat","zeronum","min","chemicaltools","map","outputinfo","component"],"mappings":"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","file":"js/deviation.2e0ec6f1.js","sourcesContent":["export function chemicalname (name) {\r\n  name = name.replace(/[\\d]/g, function (num) {\r\n    return '<sub>' + num + '</sub>'\r\n  })\r\n  name = name.replace(/(\\+|-)/g, function (num) {\r\n    return '<sup>' + num + '</sup>'\r\n  })\r\n  name = name.replace(/<sub>[\\d]<\\/sub><sup>(\\+|-)<\\/sup>/g, function (num) {\r\n    return '<sup>' + num.replace(/<\\/?su(b|p)>/g, '') + '</sup>'\r\n  })\r\n  return name\r\n}\r\n\r\nexport function scicount (value, num) {\r\n  const format = require('string-format')\r\n  format.extend(String.prototype, {})\r\n  if (value === 0) return value\r\n  var p = Math.floor(Math.log(Math.abs(value)) / Math.LN10)\r\n  var n = value * Math.pow(10, -p)\r\n  return n.toFixed(num) + (p === 0 ? '' : '×10<sup>{0}</sup>'.format(p))\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-textarea',{attrs:{\"name\":\"input\",\"label\":_vm.$t('message.data'),\"hint\":_vm.$t('message.dataline')},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}}),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.calculateDeviation(_vm.input)}}},[_vm._v(_vm._s(_vm.$t(\"message.calculate\")))]),_c('v-row',{attrs:{\"wrap\":\"\"}},[_c('v-flex',[_c('div',{staticClass:\"pt-3\",domProps:{\"innerHTML\":_vm._s(_vm.$t(_vm.output))}}),_c('v-data-table',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.results),expression:\"results\"}],attrs:{\"items\":_vm.results,\"sort-by\":\"\",\"hide-default-footer\":\"\",\"hide-default-header\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(result){return [_c('tr',[_c('td',[_vm._v(_vm._s(_vm.$t(result.item.name)))]),_c('td',{staticClass:\"text-xs-right\",domProps:{\"innerHTML\":_vm._s(result.item.value)}})])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-textarea\r\n      name=\"input\"\r\n      :label=\"$t('message.data')\"\r\n      :hint=\"$t('message.dataline')\"\r\n      v-model=\"input\"\r\n    ></v-textarea>\r\n    <v-btn color=\"success\" v-on:click=\"calculateDeviation(input)\">{{$t(\"message.calculate\")}}</v-btn>\r\n    <v-row wrap>\r\n      <v-flex>\r\n        <div class=\"pt-3\" v-html=\"$t(output)\"></div>\r\n        <v-data-table\r\n          :items=\"results\"\r\n          v-show=\"results\"\r\n          sort-by\r\n          hide-default-footer\r\n          hide-default-header\r\n        >\r\n          <template v-slot:item=\"result\">\r\n            <tr>\r\n              <td>{{ $t(result.item.name) }}</td>\r\n              <td class=\"text-xs-right\" v-html=\"result.item.value\"></td>\r\n            </tr>\r\n          </template>\r\n        </v-data-table>\r\n      </v-flex>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n<script>\r\nimport { scicount } from '../chem.js'\r\nconst chemicaltools = require('chemicaltools')\r\nconst format = require('string-format')\r\nformat.extend(String.prototype, {})\r\n\r\nexport default {\r\n  data: () => ({\r\n    output: 'message.inputdata',\r\n    results: [],\r\n    input: ''\r\n  }),\r\n  methods: {\r\n    calculateDeviation: function (input) {\r\n      if (!input) {\r\n        this.output = 'message.inputdata'\r\n        return\r\n      }\r\n      var x = input.split(/[\\r\\n\\\\s ,;]+/)\r\n      var numnum = Infinity\r\n      var pointnum = Infinity\r\n      if (x.length > 1) {\r\n        x.forEach(function (xi) {\r\n          var len = xi.length\r\n          var pointlen = 0\r\n          if (xi.substr(0, 1) === '-') len--\r\n          if (xi.indexOf('.') >= 0) {\r\n            len--\r\n            pointlen = len - xi.indexOf('.')\r\n            if (Math.abs(parseFloat(xi)) < 1) {\r\n              var zeronum = Math.floor(\r\n                Math.log(Math.abs(parseFloat(xi))) / Math.LN10\r\n              )\r\n              len += zeronum\r\n            }\r\n          }\r\n          numnum = Math.min(numnum, len)\r\n          pointnum = Math.min(pointnum, pointlen)\r\n        })\r\n        numnum -= 1\r\n        var result = chemicaltools.calculateDeviation(x.map(parseFloat))\r\n        var outputinfo = [\r\n          { name: 'deviation.input', value: x.join(', ') },\r\n          {\r\n            name: 'deviation.average',\r\n            value: result.average.toFixed(pointnum)\r\n          },\r\n          {\r\n            name: 'deviation.ad',\r\n            value: result.average_deviation.toFixed(pointnum)\r\n          },\r\n          {\r\n            name: 'deviation.rad',\r\n            value:\r\n              scicount(result.relative_average_deviation * 1000, numnum) + '‰'\r\n          },\r\n          {\r\n            name: 'deviation.sd',\r\n            value: scicount(result.standard_deviation, numnum)\r\n          },\r\n          {\r\n            name: 'deviation.rsd',\r\n            value:\r\n              scicount(result.relative_standard_deviation * 1000, numnum) + '‰'\r\n          }\r\n        ]\r\n        this.results = outputinfo\r\n        this.output = ''\r\n      } else {\r\n        this.results = []\r\n        this.output = 'message.multpledata'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ifdef-loader/ifdef-loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deviation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ifdef-loader/ifdef-loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deviation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deviation.vue?vue&type=template&id=364ff0fe&\"\nimport script from \"./deviation.vue?vue&type=script&lang=js&\"\nexport * from \"./deviation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}